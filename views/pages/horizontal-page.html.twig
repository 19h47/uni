{#
 # Horizontal page
 #
 # @purgeCSS Horizontal-page
 #}
{% extends 'index.html.twig' %}

{% block content %}

	<div class="Horizontal-page__section mx-20px mx-md-0 mb-20px mb-md-0 position-md-fixed top-md-0 bottom-md-0 start-md-0 w-100 h-md-100" data-horizontal-page="section">
		<div class="Horizontal-page__track d-md-flex flex-md-nowrap top-md-0 bottom-md-0 start-md-0 position-md-absolute z-index-md-0 h-md-100" data-horizontal-page="track">

			<div class="d-md-flex flex-md-nowrap mt-md-20px mb-md-20px"  data-module-wrapper-page>
				<div
					class="{{ [
						'pb-20px',
						'pb-md-0',
						'pt-100px',
						'pt-80px',
						'Horizontal-page__grid',
						'py-md-60vh',
						'ps-md-0',
						'position-md-static',
						'top-0',
						'end-0',
						'start-0',
						'z-index-1',
						'js-grid',
						'top-md-auto',
						'end-md-auto',
						'start-md-auto'
					] | join( ' ' ) | trim }}"
				>
					<div
						class="{{ [
							'grid-template-columns-md-repeat-9-1fr',
							'w-md-1900vw',
							'h-md-100',
							'min-h-100',
							'grid-template-rows-md-repeat-11-1fr',
							'd-md-grid',
							'grid-auto-rows-md-1fr',
							'grid-column-gap-md-0',
							'grid-row-gap-md-0'
						] | join( ' ' ) | trim }}"
					>

						<div class="Horizontal-page__navigation d-none grid-area-md-1/1/2/10 d-md-flex justify-content-end js-navigation">
							{{- include( 'svg/use.html.twig', { classes: [ 'align-middle', 'w-14px', 'h-24px' ], icon: 'arrow-right' }, with_context = false ) -}}
						</div>

						<div class="Page-title text-uppercase grid-area-md-2/3/4/10">
							<h1 class="uppercase text-center text-md-start my-0">
								{{- post.subtitle ? "<span class=\"letter-spacing-0 ff-body text-none d-block\">#{ post.subtitle }</span>" -}}
							{{- post.title -}}</h1>
						</div>

						<div class="Wysiwyg mt-20px mt-md-0 grid-area-md-4/4/10/9">{{- post.content -}}</div>

						<div class="ff-title fst-italic mt-20px mt-md-0 js-footer align-self-end grid-area-10/1/11/11 grid-area-sm-9/1/10/11 grid-area-md-11/3/12/9">
							{{- post.footer | nl2br -}}
						</div>
					</div>
				</div>

				{% if post.meta( 'gallery' ) %}
					<div class="overflow-md-hidden Horizontal-page__gallery py-md-60vh background-color-white position-relative d-md-flex flex-md-nowrap z-index-2" style="transform: translate3d(0,0,0);">
						{% for image in post.meta( 'gallery' ) %}

							{% set _product = TimberPost( image.id ).meta( 'product_link' ) %}

							<div
								id="image-{{ image.id }}"
								class="Horizontal-page__image h-md-100 d-md-flex my-md-0 {{ loop.first ? 'mb-20px' : ( loop.last ? 'mt-20px' : 'my-20px' ) }}"
								data-index="{{ loop.index }}"
								style="{{ loop.first ? 'background-color: transparent;' : '' }}"
							>
								<{{ _product ? "a href=\"#{ _product.link }\"" : 'div' }} class="h-md-100 mx-n20px mx-md-0 d-block w-md-100"{{ _product ? ' data-product-content="link"' : '' }}>
									{{-
										include(
											'partials/image.html.twig',
											{
												attributes: { 'data-horizontal-page' : 'image' },
												classes: [ 'w-100', 'h-auto', 'w-md-auto', 'h-md-100', 'd-block' ],
												image: image,
												loading: 'eager',
												size: 'size-1720'
											},
											with_context = false
										)
									-}}
								</{{ _product ? 'a' : 'div' }}>

								{{- _product ? "<h5>#{ _product.title }</h5>" -}}
							</div>
						{% endfor %}
					</div>
				{% endif %}
			</div>

			{{-
				include(
					'components/heading.html.twig',
					{
						classes: [ 'color-gray-dark', 'background-color-white' ],
						link: post.meta( 'link' ).url | default( site.link ),
						title: post.meta( 'link' ).title | default( __( 'Discover<br>our online store', 'uni' ) )
					},
					with_context = false
				)
			-}}

			{{- include( 'components/footer-horizontal.html.twig' ) -}}

		</div>
	</div>

{% endblock  %}
